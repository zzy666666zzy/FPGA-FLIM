#include "stdio.h"
#include "Pre1.h"

int main(void)
{
	Dtype_f feature_out[Hout_Pre1][Wout_Pre1][CHout_Pre1];

	//feature_in
//	for(int i=0;i<IN_HEIGHT;i++)
//		for(int j=0;j<IN_WIDTH;j++)
//			for(int cin=0;cin<IN_CH;cin++)
//			{
//				feature_in[i][j][cin]=j;
//				printf("feature_in[%d][%d][%d]=%f\n",i,j,cin,feature_in[i][j][cin]);
//			}
//	printf("1234\n");
//	//W1
//	for(int i=0;i<KERNEL_HEIGHT;i++)
//		for(int j=0;j<KERNEL_WIDTH;j++)
//			for(int cin=0;cin<IN_CH;cin++)
//				for(int cout=0;cout<OUT_CH;cout++)
//				{
//					W1[i][j][cin][cout]=2;
//					printf("W1[%d][%d][%d][%d]=%f\n",i,j,cin,cout,W1[i][j][cin][cout]);
//				}

	Dtype_f feature_in[Hin_Pre1][Win_Pre1]={0.0065789,0.0098684,0.0098684,0.023026,0.036184,0.013158,0.016447,0.016447,0.016447,0.019737,0.042763,0.12171,0.40461,0.89803,1,0.80263,0.41447,0.25658,0.15461,0.11184,0.098684,0.069079,0.049342,0.046053,0.055921,0.042763,0.023026,0.023026,0.016447,0.019737,0.029605,0.029605,0.023026,0.013158,0.039474,0.016447,0.0098684,0.036184,0.029605,0.029605,0.036184,0.042763,0.055921,0.016447,0.023026,0.042763,0.019737,0.013158,0.026316,0.013158,0.013158,0.0098684,0.013158,0.0098684,0.023026,0.013158,0.036184,0.023026,0.0098684,0.013158,0.013158,0.032895,0.0098684,0.016447,0.023026,0.026316,0.013158,0.0098684,0.019737,0.0098684,0.0065789,0.0065789,0.0065789,0.0065789,0.0098684,0.013158,0.0098684,0.0065789,0.0065789,0.0098684,0.0065789,0.016447,0.013158,0.016447,0.0065789,0.0065789,0.013158,0.0032895,0.0032895,0.0098684,0.016447,0.013158,0.013158,0.0098684,0.0098684,0.0065789,0,0.013158,0.0065789,0.0098684,0,0.0065789,0.0032895,0.0098684,0.0065789,0.013158,0.0065789,0.0098684,0.0065789,0.013158,0.0098684,0.016447,0.0098684,0.013158,0.016447,0.0098684,0.0065789,0.0065789,0.0032895,0.0032895,0.0032895,0,0.0065789,0,0.0032895,0,0.0098684,0.0065789,0.0098684,0.0065789,0.0032895,0.0098684,0,0.0098684,0,0.0032895,0,0.016447,0.0065789,0.0065789,0.0065789,0,0.0032895,0.0032895,0,0.0032895,0,0,0,0,0.0098684,0.0065789,0.0065789,0.0098684,0,0,0.0032895,0.0065789,0.0032895,0.0098684,0,0.0098684,0,0.0065789,0,0.0065789,0,0,0.0032895,0,0.0065789,0,0,0,0.0098684,0,0.0032895,0.0032895,0.0032895,0,0,0.0032895,0.0032895,0,0.0032895,0.0065789,0.0065789,0.0032895,0.0032895,0.0032895,0.0032895,0.0032895,0,0,0,0,0,0.0032895,0.0032895,0.0032895,0.0032895,0,0.0032895,0.0032895,0.0032895,0.0065789,0.0032895,0.0065789,0.0065789,0,0.0032895,0,0,0,0,0.0065789,0.0032895,0.0065789,0.0065789,0,0,0.0032895,0.0032895,0,0.0065789,0.0032895,0.0032895,0,0.0032895,0.0098684,0,0.0032895,0.0032895,0,0.0032895,0.0065789,0.0032895,0.0032895,0,0,0,0,0.0065789,0,0.0032895,0,0,0.0032895,0,0,0,0.0032895,0,0,0,0};
//	Dtype_f W1[Kx_Pre1][Ky_Pre1][CHin_Pre1][CHout_Pre1]={6.9127827      ,
//			0.07307314     ,
//			-1.7300748     ,
//			0.028065046    ,
//			-1.9577738     ,
//			4.510674       ,
//			0.09398288     ,
//			-1.66653       ,
//			0.011290454    ,
//			-0.0049518854  ,
//			4.0520363      ,
//			0.4444014      ,
//			0.010790587    ,
//			-3.127574      ,
//			-1.4541837     ,
//			14.82394       ,
//			0.114284724    ,
//			-0.72477174    ,
//			-2.6725073     ,
//			-1.2529223     ,
//			15.81041       ,
//			0.08559376     ,
//			-1.2277939     ,
//			-3.0675154     ,
//			-2.5975177     ,
//			6.113857       ,
//			0.22484052     ,
//			0.046374757    ,
//			-0.85021985    ,
//			-1.9274341     ,
//			0.9710892      ,
//			0.27200043     ,
//			-0.7940469     ,
//			-1.1020538     ,
//			-2.350249      ,
//			0.8657459      ,
//			-2.130674      ,
//			-1.7667713     ,
//			-2.7410161     ,
//			-4.1882615     ,
//			0.65912473     ,
//			-0.44334227    ,
//			-3.884818      ,
//			-3.090772      ,
//			-2.718807      ,
//			0.5264832      ,
//			-2.205826      ,
//			-7.3201327     ,
//			-2.7336595     ,
//			-0.48876098    ,
//			0.43998817     ,
//			-1.8569624     ,
//			-3.7222939     ,
//			-2.009016      ,
//			0.31015944     ,
//			0.39795306     ,
//			-3.4543488     ,
//			0.13371125     ,
//			-1.0072341     ,
//			0.28969604     ,
//			0.3700562      ,
//			0.056647476    ,
//			-0.23877323    ,
//			0.35947466     ,
//			-0.012358984
//
//};
//
//	Dtype_f scale[CHout_Pre1]={
//			 0.39342523,
//			 0.61975574,
//			 0.6734796,
//			 0.7124845,
//			 0.63454676};
//
//	Dtype_f shift[CHout_Pre1]={
//			21.772554,
//			  7.157791,
//			 16.23295,
//			 16.974499,
//			 12.989589
//	};


//Pre1_conv(feature_in[0], W1[0][0][0],scale,shift,feature_out[0][0]);
	Pre1_conv(feature_in[0],feature_out[0][0]);

	for(int cout=0;cout<CHout_Pre1;cout++)
		for(int i=0;i<Hout_Pre1;i++)
			for(int j=0;j<Wout_Pre1;j++)
				{
					printf("OUT[%d][%d][%d]=%f\n",i,j,cout,feature_out[i][j][cout]);
				}

	return 0;
}
